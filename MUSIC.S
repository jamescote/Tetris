; Generated by c68 v4.4.5, 25 Jan 95 (Jan 25 1995) from "music.c"
	text
	even
_set_up_theme:
	link	a6,#0
	move.l	a3,-(a7)
	lea	_m_MainTheme,a3
	;line	32
	move.l	8(a6),(a3)
	;line	33
	move.w	12(a6),4(a3)
	;line	34
	tst.b	17(a6)
	bne	L2
	move.w	8(a3),d0
	cmp.w	12(a6),d0
	blt	L1
L2:
	;line	35
	clr.w	8(a3)
L1:
	;line	36
	tst.b	17(a6)
	beq	L3
	;line	37
	clr.b	6(a3)
L3:
	;line	38
	move.w	8(a3),d0
	ext.l	d0
	asl.l	#2,d0
	move.l	d0,a0
	add.l	(a3),a0
	move.w	2(a0),10(a3)
	;line	39
	move.b	#10,12(a3)
	;line	40
	move.b	15(a6),14(a3)
	;line	41
	jsr	_set_up_envelope
	;line	42
	move.w	8(a3),d0
	ext.l	d0
	asl.l	#2,d0
	add.l	(a3),d0
	move.l	d0,-(a7)
	jsr	_set_note
	addq.l	#4,a7
	;line	43
	clr.w	-(a7)
	move.w	#1,-(a7)
	clr.w	-(a7)
	jsr	_enable_channel
	addq.l	#6,a7
	;line	44
	move.b	12(a3),d0
	ext.w	d0
	move.w	d0,-(a7)
	clr.w	-(a7)
	jsr	_set_volume
	move.l	-4(a6),a3
	unlk	a6
	rts
_set_up_envelope:
	link	a6,#0
	move.l	a3,-(a7)
	lea	_m_MainTheme,a3
	;line	53
	tst.b	14(a3)
	beq	L4
	;line	55
	moveq	#15,d0
	ext.l	d0
	divs	10(a3),d0
	move.b	d0,15(a3)
	;line	56
	move.b	#15,12(a3)
	;line	58
	move.b	12(a3),d0
	ext.w	d0
	move.w	d0,-(a7)
	clr.w	-(a7)
	jsr	_set_volume
L4:
	move.l	-4(a6),a3
	unlk	a6
	rts
_start_music:
	link	a6,#0
	;line	66
	move.w	#1,-(a7)
	clr.w	d0
	move.b	15(a6),d0
	move.w	d0,-(a7)
	move.w	12(a6),-(a7)
	move.l	8(a6),-(a7)
	jsr	_set_up_theme
	unlk	a6
	rts
_switch_music:
	link	a6,#0
	;line	72
	clr.w	-(a7)
	clr.w	d0
	move.b	15(a6),d0
	move.w	d0,-(a7)
	move.w	12(a6),-(a7)
	move.l	8(a6),-(a7)
	jsr	_set_up_theme
	unlk	a6
	rts
_play_music:
	link	a6,#0
	;line	78
	clr.b	13+_m_MainTheme
	;line	79
	clr.w	-(a7)
	move.w	#1,-(a7)
	clr.w	-(a7)
	jsr	_enable_channel
	addq.l	#6,a7
	;line	80
	move.b	12+_m_MainTheme,d0
	ext.w	d0
	move.w	d0,-(a7)
	clr.w	-(a7)
	jsr	_set_volume
	unlk	a6
	rts
_pause_music:
	link	a6,#0
	;line	85
	move.b	#1,13+_m_MainTheme
	;line	86
	clr.w	-(a7)
	clr.w	-(a7)
	clr.w	-(a7)
	jsr	_enable_channel
	addq.l	#6,a7
	;line	87
	clr.w	-(a7)
	clr.w	-(a7)
	jsr	_set_volume
	unlk	a6
	rts
_adjust_music_volume:
	link	a6,#-2
	movem.l	d3/a3,-(a7)
	lea	_m_MainTheme,a3
	;line	95
	moveq	#1,d3
	;line	95
	tst.b	9(a6)
	bne	L5
	;line	96
	move.b	d3,d0
	ext.w	d0
	not.w	d0
	add.b	d0,d3
L5:
	;line	98
	move.b	12(a3),d0
	ext.w	d0
	move.b	d3,d1
	ext.w	d1
	add.w	d1,d0
	tst.w	d0
	blt	L6
	move.b	12(a3),d0
	ext.w	d0
	move.b	d3,d1
	ext.w	d1
	add.w	d1,d0
	cmp.w	#15,d0
	bge	L6
	;line	100
	add.b	d3,12(a3)
L6:
	;line	102
	move.b	12(a3),d0
	ext.w	d0
	move.w	d0,-(a7)
	clr.w	-(a7)
	jsr	_set_volume
	movem.l	-10(a6),d3/a3
	unlk	a6
	rts
_update_music:
	link	a6,#0
	move.l	a3,-(a7)
	lea	_m_MainTheme,a3
	;line	108
	tst.b	13(a3)
	bne	L7
	;line	110
	move.w	10(a6),d0
	sub.w	d0,10(a3)
	;line	111
	tst.w	10(a3)
	bgt	L8
	;line	113
	addq.w	#1,8(a3)
	;line	114
	move.w	8(a3),d0
	cmp.w	4(a3),d0
	blt	L9
	;line	115
	clr.w	8(a3)
L9:
	;line	117
	move.w	8(a3),d0
	ext.l	d0
	asl.l	#2,d0
	move.l	d0,a0
	add.l	(a3),a0
	move.w	2(a0),d0
	clr.w	d1
	move.b	6(a3),d1
	sub.w	d1,d0
	move.w	d0,10(a3)
	;line	119
	jsr	_set_up_envelope
	;line	121
	move.w	8(a3),d0
	ext.l	d0
	asl.l	#2,d0
	add.l	(a3),d0
	move.l	d0,-(a7)
	jsr	_set_note
	bra	L10
L8:
	;line	123
	tst.b	14(a3)
	beq	L11
	tst.b	12(a3)
	beq	L11
	;line	125
	move.b	15(a3),d0
	sub.b	d0,12(a3)
	;line	126
	move.b	12(a3),d0
	ext.w	d0
	move.w	d0,-(a7)
	clr.w	-(a7)
	jsr	_set_volume
L11:
L10:
L7:
	move.l	-4(a6),a3
	unlk	a6
	rts
_set_note:
	link	a6,#0
	;line	134
	move.l	8(a6),a0
	move.w	(a0),-(a7)
	clr.w	-(a7)
	jsr	_set_tone
	unlk	a6
	rts
_adjust_tempo:
	link	a6,#0
	;line	141
	clr.w	d0
	move.b	9(a6),d0
	asr.w	#2,d0
	move.b	d0,6+_m_MainTheme
	unlk	a6
	rts
	globl	_start_music
	globl	_switch_music
	globl	_play_music
	globl	_pause_music
	globl	_adjust_music_volume
	globl	_update_music
	globl	_adjust_tempo
	bss
	even
_m_MainTheme:
	ds.b	16
	globl	_m_MainTheme
	globl	_set_note
	globl	_set_up_theme
	globl	_set_up_envelope
